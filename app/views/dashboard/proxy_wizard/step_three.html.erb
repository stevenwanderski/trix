<h1>New Proxy: Step 3</h1>

<p>Supply the URL and request type for the external API you are hitting.</p>
<p>Example: <strong><code>POST https://api.mailchimp.com/v2/lists</code></strong></p>

<br>

<%= form_for(@proxy, url: dashboard_proxy_wizard_update_path(@proxy), method: :put, html: { class: 'model-form' }) do |f| %>
  <div class="form-section">
    <div class="form-item">
      <%= f.label :target_url, 'Target URL', class: 'label' %>
      <%= f.text_field :target_url, class: 'input--text' %>
    </div>

    <div class="form-item">
      <%= f.label :target_request_type, class: 'label' %>
      <%= f.select :target_request_type,
          [
            ['POST', 'post'],
            ['GET', 'get'],
            ['PUT', 'put'],
            ['PATCH', 'patch'],
            ['DELETE', 'delete']
          ],
          {},
          class: 'input--select'
      %>
    </div>

    <div class="form-item">
      <%= f.label :body_format, 'Target body format', class: 'label' %>
      <%= f.select :body_format,
          [
            ['JSON', 'json']
          ],
          { include_blank: '- None -' },
          class: 'input--select'
      %>
    </div>
  </div>

  <%= hidden_field_tag :step, 3 %>

  <div class="form-item form-actions">
    <%= f.submit 'Next Step', class: 'button' %>
  </div>
<% end %>
